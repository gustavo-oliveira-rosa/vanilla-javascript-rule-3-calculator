<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Regra de Tr√™s</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: #2c3e50;
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .math-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2em;
            opacity: 0.3;
        }

        .content {
            padding: 40px;
        }

        .calculator-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .calculator-section {
                grid-template-columns: 1fr;
            }
        }

        .input-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
        }

        .proportion-display {
            background: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
            font-family: 'Cambria Math', 'Times New Roman', serif;
        }

        .proportion-line {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            font-size: 1.3em;
        }

        .proportion-equals {
            font-size: 1.5em;
            color: #3498db;
            font-weight: bold;
            margin: 0 10px;
        }

        .input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: 600;
            color: #2c3e50;
            text-align: center;
        }

        input {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            text-align: center;
            transition: all 0.3s;
        }

        input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        input.x-value {
            background: #fff9e6;
            border-color: #f39c12;
            font-weight: bold;
            color: #e67e22;
        }

        .btn {
            padding: 18px 30px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #219a52;
            transform: translateY(-2px);
        }

        .btn-warning {
            background: #f39c12;
            color: white;
        }

        .btn-warning:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }

        .results-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .result-card {
            background: #e8f4f8;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 25px;
            border-left: 4px solid #3498db;
        }

        .result-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #2c3e50;
            margin: 10px 0;
        }

        .result-label {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .calculation-steps {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .calculation-steps h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        .step {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .step:last-child {
            margin-bottom: 0;
        }

        .step-formula {
            font-family: 'Cambria Math', 'Times New Roman', serif;
            font-size: 1.1em;
            margin: 10px 0;
            text-align: center;
        }

        .examples-section {
            margin-top: 25px;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .example-item {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            text-align: center;
        }

        .example-item:hover {
            background: #d5dbdb;
        }

        .example-title {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .example-values {
            font-weight: bold;
        }

        .info-section {
            background: #34495e;
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 25px;
        }

        .info-section h3 {
            color: #3498db;
            margin-bottom: 15px;
            text-align: center;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .info-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 8px;
        }

        .info-card h4 {
            color: #3498db;
            margin-bottom: 10px;
        }

        .info-card p {
            font-size: 0.9em;
            line-height: 1.5;
            opacity: 0.9;
        }

        .types-section {
            margin-top: 25px;
        }

        .types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .type-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .type-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .type-card p {
            color: #7f8c8d;
            line-height: 1.6;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #e74c3c;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .input-group {
                grid-template-columns: 1fr;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .types-grid {
                grid-template-columns: 1fr;
            }
        }

        .proportionality-badge {
            display: inline-block;
            padding: 5px 10px;
            background: #3498db;
            color: white;
            border-radius: 15px;
            font-size: 0.8em;
            margin-left: 10px;
        }

        .direct-proportion {
            background: #27ae60;
        }

        .inverse-proportion {
            background: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="math-icon">üìê</div>
            <h1>üìê Simulador de Regra de Tr√™s</h1>
            <p>Calcule propor√ß√µes de forma simples e r√°pida</p>
        </div>

        <div class="content">
            <div class="calculator-section">
                <div class="input-section">
                    <div class="proportion-display">
                        <div class="proportion-line">
                            <span id="valueA1">A</span>
                            <span>est√° para</span>
                            <span id="valueB1">B</span>
                        </div>
                        <div class="proportion-equals">‚Üì</div>
                        <div class="proportion-line">
                            <span id="valueA2">C</span>
                            <span>est√° para</span>
                            <span id="valueB2">X</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <div class="input-item">
                            <label for="a1">Valor A</label>
                            <input type="number" id="a1" placeholder="Primeiro valor" step="any">
                        </div>
                        <div class="input-item">
                            <label for="b1">Valor B</label>
                            <input type="number" id="b1" placeholder="Segundo valor" step="any">
                        </div>
                        <div class="input-item">
                            <label for="a2">Valor C</label>
                            <input type="number" id="a2" placeholder="Terceiro valor" step="any">
                        </div>
                        <div class="input-item">
                            <label for="b2">Valor X</label>
                            <input type="text" id="b2" class="x-value" placeholder="X" readonly>
                        </div>
                    </div>

                    <div class="proportion-type">
                        <label for="proportionType">Tipo de Propor√ß√£o:</label>
                        <select id="proportionType" style="width: 100%; padding: 15px; margin: 10px 0; border-radius: 10px;">
                            <option value="direct">Diretamente Proporcional</option>
                            <option value="inverse">Inversamente Proporcional</option>
                        </select>
                    </div>

                    <button class="btn btn-primary" onclick="calculateRuleOfThree()">Calcular Regra de Tr√™s</button>
                    <button class="btn btn-success" onclick="clearInputs()">üóëÔ∏è Limpar Campos</button>
                    <button class="btn btn-warning" onclick="swapValues()">üîÑ Trocar Valores</button>
                </div>

                <div class="results-section">
                    <div class="result-card">
                        <div class="result-label">Resultado</div>
                        <div class="result-value" id="resultValue">X</div>
                        <div class="result-label" id="resultDescription">Aguardando c√°lculo...</div>
                    </div>

                    <div class="calculation-steps">
                        <h3>üßÆ Passo a Passo do C√°lculo</h3>
                        <div id="stepsContent">
                            <div class="step">
                                Preencha os valores e clique em "Calcular Regra de Tr√™s" para ver os passos do c√°lculo.
                            </div>
                        </div>
                    </div>

                    <div class="examples-section">
                        <h3 style="color: #2c3e50; margin-bottom: 15px;">üìö Exemplos Pr√°ticos</h3>
                        <div class="examples-grid">
                            <div class="example-item" onclick="setExample('recipe')">
                                <div class="example-title">Receita</div>
                                <div class="example-values">2 ovos ‚Üí 10 cookies</div>
                            </div>
                            <div class="example-item" onclick="setExample('velocity')">
                                <div class="example-title">Velocidade</div>
                                <div class="example-values">60 km/h ‚Üí 2 horas</div>
                            </div>
                            <div class="example-item" onclick="setExample('currency')">
                                <div class="example-title">Convers√£o</div>
                                <div class="example-values">$1 ‚Üí R$5,50</div>
                            </div>
                            <div class="example-item" onclick="setExample('workers')">
                                <div class="example-title">Produtividade</div>
                                <div class="example-values">4 pessoas ‚Üí 6 horas</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="types-section">
                <h3 style="color: #2c3e50; text-align: center; margin-bottom: 20px;">üéØ Tipos de Regra de Tr√™s</h3>
                <div class="types-grid">
                    <div class="type-card">
                        <h4>üìà Diretamente Proporcional 
                            <span class="proportionality-badge direct-proportion">Direta</span>
                        </h4>
                        <p>Quando o aumento de uma grandeza causa o aumento da outra na mesma propor√ß√£o.</p>
                        <div class="step-formula">
                            A/B = C/X ‚Üí X = (B √ó C) / A
                        </div>
                        <p><strong>Exemplo:</strong> Se 2kg custam R$10, quanto custam 5kg?</p>
                    </div>
                    <div class="type-card">
                        <h4>üìâ Inversamente Proporcional 
                            <span class="proportionality-badge inverse-proportion">Inversa</span>
                        </h4>
                        <p>Quando o aumento de uma grandeza causa a diminui√ß√£o da outra na mesma propor√ß√£o.</p>
                        <div class="step-formula">
                            A √ó B = C √ó X ‚Üí X = (A √ó B) / C
                        </div>
                        <p><strong>Exemplo:</strong> Se 4 trabalhadores levam 6 horas, quanto levam 8 trabalhadores?</p>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h3>‚ÑπÔ∏è Sobre a Regra de Tr√™s</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>üéØ O que √©?</h4>
                        <p>A regra de tr√™s √© um m√©todo matem√°tico para resolver problemas de propor√ß√£o entre grandezas. √â amplamente utilizada no dia a dia para c√°lculos de proporcionalidade.</p>
                    </div>
                    <div class="info-card">
                        <h4>üîç Quando usar?</h4>
                        <p>Use quando precisar encontrar um valor desconhecido em uma propor√ß√£o, baseando-se em outros tr√™s valores conhecidos e na rela√ß√£o entre as grandezas.</p>
                    </div>
                    <div class="info-card">
                        <h4>üí° Dicas</h4>
                        <p>‚Ä¢ Identifique se as grandezas s√£o direta ou inversamente proporcionais<br>
                           ‚Ä¢ Mantenha as unidades consistentes<br>
                           ‚Ä¢ Verifique se o resultado faz sentido no contexto</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="notification" class="notification">C√°lculo realizado com sucesso!</div>

    <script>
        // Elementos DOM
        const a1Input = document.getElementById('a1');
        const b1Input = document.getElementById('b1');
        const a2Input = document.getElementById('a2');
        const b2Input = document.getElementById('b2');
        const proportionType = document.getElementById('proportionType');
        const resultValue = document.getElementById('resultValue');
        const resultDescription = document.getElementById('resultDescription');
        const stepsContent = document.getElementById('stepsContent');
        const notification = document.getElementById('notification');

        // Exemplos pr√©-definidos
        const examples = {
            recipe: {
                a1: 2, b1: 10, a2: 5, b2: '',
                type: 'direct',
                description: 'Quantos cookies fazem com 5 ovos?'
            },
            velocity: {
                a1: 60, b1: 2, a2: 80, b2: '',
                type: 'inverse',
                description: 'Quanto tempo para percorrer a mesma dist√¢ncia a 80km/h?'
            },
            currency: {
                a1: 1, b1: 5.5, a2: 50, b2: '',
                type: 'direct',
                description: 'Quantos reais equivalem a 50 d√≥lares?'
            },
            workers: {
                a1: 4, b1: 6, a2: 8, b2: '',
                type: 'inverse',
                description: 'Quanto tempo levam 8 trabalhadores?'
            }
        };

        // Calcular regra de tr√™s
        function calculateRuleOfThree() {
            const a1 = parseFloat(a1Input.value);
            const b1 = parseFloat(b1Input.value);
            const a2 = parseFloat(a2Input.value);
            const type = proportionType.value;

            // Validar entradas
            if (isNaN(a1) || isNaN(b1) || isNaN(a2) || a1 === 0 || (type === 'direct' && b1 === 0)) {
                showNotification('Por favor, preencha todos os campos com valores v√°lidos!', 'error');
                return;
            }

            let result;
            let steps = [];

            if (type === 'direct') {
                // Regra de tr√™s direta: A/B = C/X ‚Üí X = (B √ó C) / A
                result = (b1 * a2) / a1;
                
                steps = [
                    `Propor√ß√£o direta: ${a1} est√° para ${b1} assim como ${a2} est√° para X`,
                    `Montagem: ${a1}/${b1} = ${a2}/X`,
                    `Multiplica√ß√£o cruzada: ${a1} √ó X = ${b1} √ó ${a2}`,
                    `Isolando X: X = (${b1} √ó ${a2}) / ${a1}`,
                    `C√°lculo: X = ${(b1 * a2)} / ${a1}`,
                    `Resultado: X = ${result.toFixed(2)}`
                ];
            } else {
                // Regra de tr√™s inversa: A √ó B = C √ó X ‚Üí X = (A √ó B) / C
                result = (a1 * b1) / a2;
                
                steps = [
                    `Propor√ß√£o inversa: ${a1} est√° para ${b1} assim como ${a2} est√° para X (inversamente)`,
                    `Montagem: ${a1} √ó ${b1} = ${a2} √ó X`,
                    `Isolando X: X = (${a1} √ó ${b1}) / ${a2}`,
                    `C√°lculo: X = ${(a1 * b1)} / ${a2}`,
                    `Resultado: X = ${result.toFixed(2)}`
                ];
            }

            // Atualizar resultados
            b2Input.value = result.toFixed(2);
            resultValue.textContent = result.toFixed(2);
            resultDescription.textContent = `X = ${result.toFixed(2)} (${type === 'direct' ? 'Propor√ß√£o Direta' : 'Propor√ß√£o Inversa'})`;

            // Mostrar passos
            displayCalculationSteps(steps);
            showNotification('C√°lculo realizado com sucesso!');
        }

        // Exibir passos do c√°lculo
        function displayCalculationSteps(steps) {
            stepsContent.innerHTML = '';
            
            steps.forEach((step, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'step';
                stepElement.innerHTML = `<strong>Passo ${index + 1}:</strong> ${step}`;
                stepsContent.appendChild(stepElement);
            });

            stepsContent.classList.add('fade-in');
            setTimeout(() => stepsContent.classList.remove('fade-in'), 500);
        }

        // Limpar campos
        function clearInputs() {
            a1Input.value = '';
            b1Input.value = '';
            a2Input.value = '';
            b2Input.value = '';
            resultValue.textContent = 'X';
            resultDescription.textContent = 'Aguardando c√°lculo...';
            stepsContent.innerHTML = '<div class="step">Preencha os valores e clique em "Calcular Regra de Tr√™s" para ver os passos do c√°lculo.</div>';
            showNotification('Campos limpos!');
        }

        // Trocar valores A e B
        function swapValues() {
            const tempA1 = a1Input.value;
            const tempB1 = b1Input.value;
            
            a1Input.value = a2Input.value;
            b1Input.value = b2Input.value;
            a2Input.value = tempA1;
            b2Input.value = tempB1;
            
            showNotification('Valores trocados!');
        }

        // Definir exemplo
        function setExample(exampleKey) {
            const example = examples[exampleKey];
            
            a1Input.value = example.a1;
            b1Input.value = example.b1;
            a2Input.value = example.a2;
            b2Input.value = example.b2;
            proportionType.value = example.type;
            
            calculateRuleOfThree();
            showNotification(`Exemplo "${exampleKey}" carregado!`);
        }

        // Mostrar notifica√ß√£o
        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.className = `notification ${type === 'error' ? 'error' : ''}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Atualizar display da propor√ß√£o em tempo real
        function updateProportionDisplay() {
            document.getElementById('valueA1').textContent = a1Input.value || 'A';
            document.getElementById('valueB1').textContent = b1Input.value || 'B';
            document.getElementById('valueA2').textContent = a2Input.value || 'C';
            document.getElementById('valueB2').textContent = b2Input.value || 'X';
        }

        // Inicializar
        a1Input.addEventListener('input', updateProportionDisplay);
        b1Input.addEventListener('input', updateProportionDisplay);
        a2Input.addEventListener('input', updateProportionDisplay);
        b2Input.addEventListener('input', updateProportionDisplay);

        // Carregar exemplo inicial
        setTimeout(() => {
            setExample('recipe');
        }, 1000);

        // Permitir Enter para calcular
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                calculateRuleOfThree();
            }
        });
    </script>
</body>
</html>
